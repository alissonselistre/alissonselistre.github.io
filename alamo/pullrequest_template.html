<!doctype html>
<head>
	<meta charset="utf-8">
	<title>Alamo PR Template</title>
	<meta name="description" content="A helper to create the Alamo App pull requests">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">

	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css" integrity="sha384-aUGj/X2zp5rLCbBxumKTCw2Z50WgIr1vs/PFN4praOTvYXWlVyh2UtNUU0KAUhAX" crossorigin="anonymous">

	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" integrity="sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ==" crossorigin="anonymous"></script>
	<script>

	function generateMarkdown()
	{
		var pr_markdown_title = document.getElementById('pr-markdown-title');
		var textarea = document.getElementById('pr-markdown');
		textarea.value = "";

		var not_applicable_placeholder = "Not applicable";
		var not_populated = "N/A";

		// what this PR includes
		textarea.value += "## This Pull Request includes\n";

		var is_bugfix = document.getElementById("is-bugfix").checked;
		textarea.value += "- [" + (is_bugfix ? "X" : " ") + "] Bug fix\n";

		var is_feature = document.getElementById("is-feature").checked;
		textarea.value += "- [" + (is_feature ? "X" : " ") + "] New feature\n";

		var is_improvement = document.getElementById("is-improvement").checked;
		textarea.value += "- [" + (is_improvement ? "X" : " ") + "] Improvement";

		textarea.value += "\n\n";

		// summary
		textarea.value += "## Summary\n";
		var pr_summary = document.getElementById("pr-summary").value;
		if (pr_summary != "") {
			textarea.value += pr_summary;
		} else {
			textarea.value += not_populated;
		}
		textarea.value += "\n\n";

		// proposed solution
		textarea.value += "## Proposed Solution\n";
		var pr_solution = document.getElementById("pr-solution").value;
		if (pr_solution != "") {
			textarea.value += pr_solution;
		} else {
			textarea.value += not_populated;
		}
		textarea.value += "\n\n";

		// impact
		textarea.value += "## Impact\n";
		var pr_impact = document.getElementById("pr-impact").value;
		if (pr_impact != "") {
			textarea.value += pr_impact;
		} else {
			textarea.value += not_applicable_placeholder;
		}
		textarea.value += "\n\n";

		// tests
		/*
		textarea.value += "## Tests\n";
		var pr_tests = document.getElementById("pr-tests").value;
		if (pr_tests != "") {
			textarea.value += pr_tests;
		} else {
			textarea.value += not_applicable_placeholder;
		}
		textarea.value += "\n\n";
		*/

		// reference
		textarea.value += "## Reference\n";
		var pr_reference = document.getElementById("pr-reference").value;
		if (pr_reference != "") {
			textarea.value += "[" + pr_reference + "](https://jira.ehi.com/browse/" + pr_reference + ")";
		} else {
			textarea.value += not_populated;
		}

		pr_markdown_title.style.display = "block";
		textarea.style.display = "block";
		textarea.scrollIntoView();
	}

	</script>
</script>
</head>
<body>
</br>
<div style="width:50%; margin-left: auto; margin-right: auto;">

	<h1>Alamo PR Template</h1>

	</br>

	<form id="frm">

		<div class="form-group">
  		<form>
			<label>This Pull Request includes</label>
    		<div class="checkbox">
      			<label><input type="checkbox" id="is-bugfix" value="">Bug fix</label>
    		</div>
    		<div class="checkbox">
      			<label><input type="checkbox" id="is-feature" value="">New feature</label>
    		</div>
			<div class="checkbox">
      			<label><input type="checkbox" id="is-improvement" value="">Improvement</label>
    		</div>
  		</form>
		</div>

		</br>

		<div class="form-group">
			<label for="inputText">Summary</label>
			<textarea class="form-control" rows="3" id="pr-summary" placeholder="Summarize the issue or feature."></textarea>
		</div>

		</br>

		<div class="form-group">
			<label for="inputText">Proposed Solution</label>
			<textarea class="form-control" rows="3" id="pr-solution" placeholder="Describe the adopted solution."></textarea>
		</div>

		</br>

		<div class="form-group">
			<label for="inputText">Impact</label>
			<textarea class="form-control" rows="3" id="pr-impact" placeholder="There is any impact?"></textarea>
		</div>

		</br>

		<div class="form-group" style="display: none">
			<label for="inputText">Tests</label>
			<textarea class="form-control" rows="3" id="pr-tests" placeholder="List of all related tests."></textarea>
		</div>

		</br>

		<div class="form-group">
			<label for="inputText">Reference</label>
			<input type="text" class="form-control" id="pr-reference" placeholder="The JIRA Ticket. Ex: ALA-1234">
		</div>

		</br>

		<button type="button" class="btn btn-primary" onclick="generateMarkdown()">Generate the markdown</button>

	</form>

	</br></br>

	<h2 id="pr-markdown-title" style="display: none">PR Markdown</h2>
	<textarea class="form-control" style="display: none" rows="20" id="pr-markdown" placeholder="This is where you gonna copy the text."></textarea>

</div>
</body>
</html>

<!--
# This Pull Request includes
- [ ] Bug fix
- [X] New feature

# Summary


# Changes


# Impact


# Tests


# References
[JIRA_Ticket](https://jira.ehi.com/browse/[JIRA_Ticket])
-->
